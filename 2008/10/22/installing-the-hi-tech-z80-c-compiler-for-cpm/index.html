<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Installing the HI-TECH Z80 C Compiler for CP/M</title>
  <meta name="description" content="My language of choice is C and I am currently getting more involved with the CP/M operating system.  I have therefore decided that it would be nice to have a C c">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Installing the HI-TECH Z80 C Compiler for CP/M">
  <meta name="twitter:description" content="My language of choice is C and I am currently getting more involved with the CP/M operating system.  I have therefore decided that it would be nice to have a C c">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Installing the HI-TECH Z80 C Compiler for CP/M">
  <meta property="og:description" content="My language of choice is C and I am currently getting more involved with the CP/M operating system.  I have therefore decided that it would be nice to have a C c">
  <meta property="og:url" content="http://techtinkering.com/2008/10/22/installing-the-hi-tech-z80-c-compiler-for-cpm/">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/prism.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/extra.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="http://techtinkering.com/2008/10/22/installing-the-hi-tech-z80-c-compiler-for-cpm/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="http://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

  <script src="/js/jquery-3.3.1.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "http://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
         google_ad_client: "ca-pub-1613732348909658",
         enable_page_level_ads: true
    });
  </script>
</head>

  <body>
    <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">TechTinkering</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse navbar-right">
      <ul class="nav navbar-nav navbar-right contact-buttons">
        <li>
          <!-- From: http://www.buttonshut.com/Get-Button-Huts-Code/Twitter-Buttons-1124.html -->
          <a href="http://twitter.com/TechTinkering" title="@TechTinkering on Twitter">
            <img class="bannerIcon" src="/images/twitter-button-36.png" alt="@techtinkering on Twitter"/>
          </a>
        </li>
        <li>
          <!-- From: http://www.buttonshut.com/Get-Button-Huts-Code/Youtube-Buttons-831.html -->
          <a href="http://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">
            <img class="bannerIcon" src="/images/youtube-small-square-32.png" alt="YouTube Channel"/>
          </a>
        </li>
        <li>
          <!-- From: http://www.graphicsfuel.com/2011/05/email-icon-psd/ -->
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">
            <img class="bannerIcon" src="/images/email.png" alt="Email"/>
          </a>
        </li>
        <li>
          <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On Github ">
            <img class="bannerIcon" src="/images/octocat_fluid.png" alt="Techtinkering Repo on  Github"/>
          </a>
        </li>
        <li>
          <a href="http://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">
            <img class="bannerIcon" src="/images/feed-icon-28x28.png" alt="RSS Feed"/>
          </a>
        </li>
      </ul>

    </div><!--/.nav-collapse -->
  </div>
</nav>

    <div id="content" class="container">
      <div class="row margin-buffer">
  <div class="col-md-12">
    <article itemscope itemtype="http://schema.org/BlogPosting">
      <header>
        <a href="/2008/10/22/installing-the-hi-tech-z80-c-compiler-for-cpm/" title="Installing the HI-TECH Z80 C Compiler for CP/M">
          <h1 itemprop="headline name">Installing the HI-TECH Z80 C Compiler for CP/M</h1>
        </a>
        <div class="pull-right">
          <ul class="share-buttons">
  <li><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Ftechtinkering.com&text=:%20http%3A%2F%2Ftechtinkering.com&via=TechTinkering" target="_blank" title="Tweet" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title) + ':%20'  + encodeURIComponent(document.URL)); return false;"><img alt="Tweet" src="/img/social_flat_rounded_rects_svg/Twitter.svg" /></a></li>
  <li><a href="http://www.reddit.com/submit?url=http%3A%2F%2Ftechtinkering.com&title=" target="_blank" title="Submit to Reddit" onclick="window.open('http://www.reddit.com/submit?url=' + encodeURIComponent(document.URL) + '&title=' +  encodeURIComponent(document.title)); return false;"><img alt="Submit to Reddit" src="/img/social_flat_rounded_rects_svg/Reddit.svg" /></a></li>
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Ftechtinkering.com&quote=" title="Share on Facebook" target="_blank" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&quote=' + encodeURIComponent(document.URL)); return false;"><img alt="Share on Facebook" src="/img/social_flat_rounded_rects_svg/Facebook.svg" /></a></li>
  <li><a href="mailto:?subject=&body=:%20http%3A%2F%2Ftechtinkering.com" target="_blank" title="Send email" onclick="window.open('mailto:?subject=' + encodeURIComponent(document.title) + '&body=' +  encodeURIComponent(document.URL)); return false;"><img alt="Send email" src="/img/social_flat_rounded_rects_svg/Email.svg" /></a></li>
</ul>

        </div>
          <time itemprop="datePublished"
                datetime="2008-10-22">
            22 October 2008
          </time>
          &nbsp; / &nbsp;
        <span itemscope itemprop="publisher"
              itemtype="http://schema.org/Organization">
          <meta itemprop="name" content="TechTinkering" />
          <meta itemprop="url" content="http://techtinkering.com" />
        </span>
        <span itemscope itemprop="author" itemtype="http://schema.org/Person">
          <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
            <span itemprop="name">Lawrence Woodman</span>
          </a>
        </span>
        &nbsp; / &nbsp;
          <a href="/tag/c/">C</a>
          &nbsp; &nbsp;
          <a href="/tag/cpm/">CP/M</a>
          &nbsp; &nbsp;
          <a href="/tag/programming/">Programming</a>
          &nbsp; &nbsp;
          <a href="/tag/retro/">Retro</a>
          &nbsp; &nbsp;
          <a href="/tag/tutorial/">Tutorial</a>
          &nbsp; &nbsp;
          <a href="/tag/z80/">Z80</a>
          &nbsp; &nbsp;
      </header>
      <br />
      <div itemprop="articleBody">
        <p>My language of choice is C and I am currently getting more involved with the CP/M operating system.  I have therefore decided that it would be nice to have a C compiler working under CP/M.  There are a number of options available in the archives, but I have found that <a href="http://www.hitech.com.au/">HI-TECH</a> are allowing their CP/M C Compiler to be downloaded for free.  This is a very good product, has good documentation, is almost ANSI C compliant and can be used for commercial and non-commercial use.  This, therefore, is the one I have chosen.</p>
<h2>Downloading the HI-TECH Z80 CP/M C Compiler</h2>
<p>At one time this could be downloaded from the HI-TECH site, however the best place to get it from now is <a href="http://www.z80.eu/c-compiler.html">z80.eu</a>.</p>
<p>The files are self-extracting lharc'ed archives so I installed <a href="http://www.infor.kanazawa-it.ac.jp/%7Eishii/lhaunix/">lha</a>, which is part of my Debian distro.  To extract the contents of the main compiler archive, I created a subdirectory called <code>z80v309</code>.  I entered it and ran:</p>
<pre><code class="language-bash">$ lha e ../z80v309.exe
</code></pre>
<p>The extracted contents comes to 413k which is too large for the 8&quot; SD disks that my emulator supports, so I used <a href="http://www.moria.de/%7Emichael/cpmtools/">Cpmtools</a> to create a 4Mb HDD image to put the files on.  Hopefully however, this should fit on your disks.</p>
<h2>Using the C compiler</h2>
<p>To test the C compiler I went to the B: drive, where I'm storing my development work, and created a file called <code>hello.c</code> containing the classic &quot;hello, world&quot; source code:</p>
<pre><code class="language-c">void main(void)
{
   printf(&quot;hello, world\n&quot;);
}
</code></pre>
<p>To compile the source (<code>hello.c</code> on my B: drive) in verbose mode, using the compiler on my I: drive, I run the following:</p>
<pre><code class="language-text">I&gt; c -v b:hello.c
</code></pre>
<p>This leaves the executable <code>hello.com</code> on the I: drive.  Now all we need to do is run it to ensure that it has compiled properly:</p>
<pre><code class="language-text">I&gt; hello
</code></pre>
<p>Which gives the correct output as below:</p>
<pre><samp>hello, world</samp></pre>
<h2>Where Now?</h2>
<p>The next step, if you haven't already done it, is to extract the documentation file, <code>z80doc.exe</code>.  This is an extensive document that should really help you get to grips with using the compiler.  Now all you have to do is start tinkering and see what you can create.</p>
      </div>
    </article>
  </div>
</div>

  <div class="row">
    <div class="col-md-12">
      <div id="cclicence">
        <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
          <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
        </a>
        <br />
        <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Installing the HI-TECH Z80 C Compiler for CP/M</span>
        by <a xmlns:cc="http://creativecommons.org/ns#" href="http://techtinkering.com/2008/10/22/installing-the-hi-tech-z80-c-compiler-for-cpm/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
       is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
      </div>
    </div>
  </div>

    <div class="row">
      <div class="col-md-12">
        <h2>Related Articles</h2>
      </div>
    </div>
    <div class="row margin-buffer">
  <div class="col-md-12">
      
<header>
  <h3><a href="/2008/10/21/installing-zde-1-6-a-programmers-editor-for-cpm/">Installing ZDE 1.6, a programmers editor for CP/M</a></h3>
  <span class="post-meta">
      <time datetime="2008-10-21">
        21 October 2008
      </time>
      &nbsp; / &nbsp;
      <a href="/tag/cpm/">CP/M</a>
      &nbsp; &nbsp;
      <a href="/tag/editors/">Editors</a>
      &nbsp; &nbsp;
      <a href="/tag/programming/">Programming</a>
      &nbsp; &nbsp;
      <a href="/tag/retro/">Retro</a>
      &nbsp; &nbsp;
      <a href="/tag/tutorial/">Tutorial</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  To do any serious programming under CP/M, the first thing you need is a good programmers editor.  There aren't many in the archives, but I have tried most of them and found ZDE to be the best.  It is s...
  &nbsp;
  <a class="readMore" href="/2008/10/21/installing-zde-1-6-a-programmers-editor-for-cpm/">Read More</a>
</div>

      
<header>
  <h3><a href="/2008/10/17/setting-up-z80pack-to-create-an-emulated-cpm-system/">Setting up z80pack to Create an Emulated CP/M System</a></h3>
  <span class="post-meta">
      <time datetime="2008-10-17">
        17 October 2008
      </time>
      &nbsp; / &nbsp;
      <a href="/tag/cpm/">CP/M</a>
      &nbsp; &nbsp;
      <a href="/tag/emulation/">Emulation</a>
      &nbsp; &nbsp;
      <a href="/tag/retro/">Retro</a>
      &nbsp; &nbsp;
      <a href="/tag/tutorial/">Tutorial</a>
      &nbsp; &nbsp;
      <a href="/tag/z80/">Z80</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  I have decided to try out some old CP/M software, but need something to run it on.  I could either do this on my Commodore 128 or through emulation.  Unfortunately the 1571 disk drive for my Commodore ...
  &nbsp;
  <a class="readMore" href="/2008/10/17/setting-up-z80pack-to-create-an-emulated-cpm-system/">Read More</a>
</div>

      
<header>
  <h3><a href="/2013/05/10/adding-a-basic-stub-to-a-vic-20-assembly-language-program/">Adding a Basic Stub to a Vic-20 Assembly Language Program</a></h3>
  <span class="post-meta">
      <time datetime="2013-05-10">
        10 May 2013
      </time>
      &nbsp; / &nbsp;
      <a href="/tag/assembly/">Assembly</a>
      &nbsp; &nbsp;
      <a href="/tag/commodore/">Commodore</a>
      &nbsp; &nbsp;
      <a href="/tag/programming/">Programming</a>
      &nbsp; &nbsp;
      <a href="/tag/retro/">Retro</a>
      &nbsp; &nbsp;
      <a href="/tag/tutorial/">Tutorial</a>
      &nbsp; &nbsp;
      <a href="/tag/vic-20/">Vic-20</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  To make machine language programs more friendly it is nice to add a basic stub which contains a line with a SYS statement to start the code.  This is easy to do on the Vic-20 and the process gives you ...
  &nbsp;
  <a class="readMore" href="/2013/05/10/adding-a-basic-stub-to-a-vic-20-assembly-language-program/">Read More</a>
</div>

      
<header>
  <h3><a href="/2013/04/16/beginning-assembly-programming-on-the-commodore-vic-20/">Beginning Assembly Programming on the Commodore Vic-20</a></h3>
  <span class="post-meta">
      <time datetime="2013-04-16">
        16 April 2013
      </time>
      &nbsp; / &nbsp;
      <a href="/tag/assembly/">Assembly</a>
      &nbsp; &nbsp;
      <a href="/tag/commodore/">Commodore</a>
      &nbsp; &nbsp;
      <a href="/tag/programming/">Programming</a>
      &nbsp; &nbsp;
      <a href="/tag/retro/">Retro</a>
      &nbsp; &nbsp;
      <a href="/tag/tutorial/">Tutorial</a>
      &nbsp; &nbsp;
      <a href="/tag/vic-20/">Vic-20</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  The Commodore Vic-20 is a great machine to learn an assembly language on.  It was released in 1981 and was the first computer to sell one million units, which contributes to its popularity today.  The ...
  &nbsp;
  <a class="readMore" href="/2013/04/16/beginning-assembly-programming-on-the-commodore-vic-20/">Read More</a>
</div>

      
<header>
  <h3><a href="/2013/03/12/if-only-borland-had-stuck-with-turbo-modula-2-for-cpm/">If Only Borland Had Stuck With Turbo Modula-2 For CP/M</a></h3>
  <span class="post-meta">
      <time datetime="2013-03-12">
        12 March 2013
      </time>
      &nbsp; / &nbsp;
      <a href="/tag/cpm/">CP/M</a>
      &nbsp; &nbsp;
      <a href="/tag/programming/">Programming</a>
      &nbsp; &nbsp;
      <a href="/tag/retro/">Retro</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  I have written previously about why Turbo Pascal is a Great Choice For Programming Under CP/M and now it is time to talk about what could have been.  You probably haven't heard of Turbo Modula-2 for CP...
  &nbsp;
  <a class="readMore" href="/2013/03/12/if-only-borland-had-stuck-with-turbo-modula-2-for-cpm/">Read More</a>
</div>

  </div>
</div>


<div class="row">
  <div class="col-md-12">
    <form id="email-subscribe" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=TechTinkering', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
  <p>Sign up to get new articles straight to your inbox.</p>
  <p><input type="text" style="width:180px" name="email" placeholder="Email address"/>
  <input type="hidden" value="TechTinkering" name="uri"/>
  <input type="hidden" name="loc" value="en_US"/>
  <input class="subscribe-button" type="submit" value="Subscribe" /></p>
  <p>Delivered by <a href="https://feedburner.google.com" target="_blank">FeedBurner</a></p>
</form>

  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'techtinkering';
      var disqus_identifier = '/2008/10/22/installing-the-hi-tech-z80-c-compiler-for-cpm/';
      var disqus_url = 'http://techtinkering.com/2008/10/22/installing-the-hi-tech-z80-c-compiler-for-cpm/';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</div>

    </div>

    <footer>
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <strong>Legal:</strong> &nbsp;
          <a href="/terms/">T & C</a>, &nbsp; &nbsp;
          <a href="/privacy/">Privacy Policy</a>
        </div>
      </div>
    </div>
  </nav>
</footer>

  </body>
</html>
