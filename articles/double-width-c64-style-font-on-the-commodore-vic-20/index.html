<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Double-Width C64 Style Font on the Commodore VIC-20</title>
  <meta name="description" content="The C64 used a fatter double-width font because the video quality of early VIC-IIs wasn't very good.  Therefore they had to make the C64's font fatter than the V">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Double-Width C64 Style Font on the Commodore VIC-20">
  <meta name="twitter:description" content="The C64 used a fatter double-width font because the video quality of early VIC-IIs wasn't very good.  Therefore they had to make the C64's font fatter than the V">
    <meta name="twitter:image"
         content="https://techtinkering.com/img/social_images/vic20_screenshot_fat_listing_postrun.png">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Double-Width C64 Style Font on the Commodore VIC-20">
  <meta property="og:description" content="The C64 used a fatter double-width font because the video quality of early VIC-IIs wasn't very good.  Therefore they had to make the C64's font fatter than the V">
  <meta property="og:url" content="https://techtinkering.com/articles/double-width-c64-style-font-on-the-commodore-vic-20/">
    <meta property="og:image"
         content="https://techtinkering.com/img/social_images/vic20_screenshot_fat_listing_postrun.png">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="https://techtinkering.com/articles/double-width-c64-style-font-on-the-commodore-vic-20/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="https://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "https://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
         google_ad_client: "ca-pub-1613732348909658",
         enable_page_level_ads: true
    });
  </script>
</head>
  <body>
    <nav>
  <div class="container">
    <div class="navbar-header">
      <a href="/">TechTinkering</a><br />
      =============
    </div>

    <div class="contact">
      <ul>
        <li>
          <a href="https://twitter.com/TechTinkering" title="@TechTinkering on Twitter">Twitter</a>
        </li>
        <li>
          <a href="https://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">YouTube</a>
        </li>
        <li>
          <a href="/useful-links/" title="A collection of links to useful resources">Useful Links</a>
        </li>
        <li>
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">Email</a>
        </li>
        <li>
          <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">GitHub</a>
        </li>
        <li>
          <a href="https://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">RSS</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content" class="container">
      <div class="margin-buffer">
    <article itemscope itemtype="http://schema.org/BlogPosting">
    <meta itemprop="image"
         content="https://techtinkering.com/img/social_images/vic20_screenshot_fat_listing_postrun.png" />
      <header>
        <a href="/articles/double-width-c64-style-font-on-the-commodore-vic-20/" title="Double-Width C64 Style Font on the Commodore VIC-20">
          <h1 itemprop="headline name">Double-Width C64 Style Font on the Commodore VIC-20</h1>
        </a>
        <div>
            <time itemprop="datePublished"
                  datetime="2020-11-09">
               9 November 2020
            </time>
          <span itemscope itemprop="publisher"
                itemtype="http://schema.org/Organization">
            <meta itemprop="name" content="TechTinkering" />
            <meta itemprop="url" content="https://techtinkering.com" />
          </span>
          <span itemscope itemprop="author" itemtype="http://schema.org/Person">
            <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
              <span itemprop="name">Lawrence Woodman</span>
            </a>
          </span>

          <ul class="tags">
              <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
              <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
              <li>#<a href="/articles/tag/programming/">Programming</a></li>
              <li>#<a href="/articles/tag/retro/">Retro</a></li>
              <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
          </ul>
        </div>
      </header>
        <div itemprop="articleBody">
        <p>The C64 used a fatter double-width font because the video quality of early VIC-IIs wasn't very good.  Therefore they had to make the C64's font fatter than the VIC-20's.  However, this fatter font look quite nice and there's an easy way of replicating something similar on the VIC-20.</p>
<p>Rather than loading in a whole new font we can double the width of the existing font stored in ROM to create a new fatter font in RAM, which we can then point to.</p>
<h2>Standard Character Definitions</h2>
<img src="/img/articles/vic20_standard_letter_a_close_cropped_small.png" class="img-right" style="width: 300px; clear: right;" title="Standard VIC-20 letter 'A' Character Definition">
<p>Each character definition is stored in ROM and for this demonstration we'll base our new fatter font on the uppercase characters stored from location 32768 ($8000).  Because this example is for an unexpanded VIC-20 we'll only use the first 64 characters.</p>
<p>The Vic uses 8x8 fonts as default and each character definition is stored as a series of 8 bytes with each byte representing a row of the definition.</p>
<h2>Fat Double-width Character Definition</h2>
<img src="/img/articles/vic20_fat_letter_a_close_cropped_small.png" class="img-right" style="width: 300px; clear: right;" title="Fat double-width letter 'A' Character Definition">
<p>To create the double-width font we get the value of each line of the original font, double it and then <em>OR</em> it with the original value.  This has the effect of doubling each pixel's width in the character definition.</p>
<p>This looks like the following where <code>a</code> equals the original value of the row in the character definition and <code>b</code> is the new value.</p>
<pre><code class="language-text">b := a or (a*2)
</code></pre>
<p>All we need to do then is go through each row of each character definition and store the results in RAM.  Once we have stored them in RAM, we use location 36869 ($9005) to set the character map address to our location in RAM.</p>
<h2>A Short Program to Create a Fat Font</h2>
<p>The following program will use the first 64 characters of the uppercase character set to create a double-width font.  Because we're only altering the first 64 characters it means that the reverse characters aren't defined as usual so the cursor won't blink properly nor will the characters above 63 be defined properly.</p>
<h3>Assembly</h3>
<p>First we'll create a little routine in assembly language to create the double-width font in RAM from location 7168 ($1C00).  This location is being used because we are creating a custom character set with 64 entries and 7680 (Start of screen memory) - 512 (8*64 characters) = 7168.</p>
<pre><code class="language-asm6502">            ldy  #$00
loop        lda  $8000,y       ; Get row of character from ROM
            asl                ; Double the value for the row
            ora  $8000,y
            sta  $1C00,y       ; Store row of character in RAM
            lda  $8100,y       ; Get row of character from ROM
            asl                ; Double the value for the row
            ora  $8100,y
            sta  $1D00,y       ; Store row of character in RAM
            iny
            bne  loop
            rts
</code></pre>
<p><em>Thanks to C.S. Bruce for his suggestions to make this more succinct.</em></p>
<h3>Machine Code</h3>
<p>Next we assemble the routine to machine code using location $02A1-$02BA to store it in.</p>
<pre><code class="language-text">02A1: A0 00 B9 00 80
02A6: 0A 19 00 80 99
02AB: 00 1C B9 00 81
02B0: 0A 19 00 81 99
02B5: 00 1D C8 D0 E9
02BA: 60
</code></pre>
<h3>BASIC</h3>
<p>Finally we create a short program to load the machine code routine into memory, execute it and point to the new character map.</p>
<pre><code class="language-basic">10 poke 52,28:poke 56,28:clr
20 for i=673to698:read a:poke i,a:next i
30 sys 673
40 poke 36869,255
50 data 160,0,185,0,128,10,25,0,128,153
60 data 0,28,185,0,129,10,25,0,129,153
70 data 0,29,200,208,233,96
</code></pre>
<img src="/img/articles/vic20_fatfont_run_and_listing_prerun.png" class="img-right" style="width: 400px; clear: right;" title="Double-width fat font listing before run">
<img src="/img/articles/vic20_fatfont_run_and_listing_postrun.png" class="img-right" style="width: 400px; clear: right;" title="Double-width fat font listing after run">
<p>It is worth highlighting a few points in the code:</p>
<ul>
<li>Location 51/52 points to the bottom of BASIC active strings and hence the top of
available free space.  On an unexpanded system it defaults to: 7680 ($1E00), by poking 28 ($1C) into 52 this lowers it to 7168 ($1C00).</li>
<li>Location 55/56 points to the end of BASIC memory.  On an unexpanded system it defaults to: 7680 ($1E00), by poking 28 ($1C) into 56 this lowers it to 7168 ($1C00).</li>
<li>The command <code>clr</code>, clears program variables and registers the bottom of BASIC active strings and end of BASIC memory.</li>
<li>Location 673 ($02A1) is the location we assembled the machine code to.  There is an area of memory from 673-767 ($02A1-$02FF) which is used for user indirect vectors or other storage and hence is a good location to put our machine code routine.</li>
<li>Location 36869 ($9005) controls the location of the character set.  We set it to 255 as this sets the location to 7168 ($1C00), just below the screen map at 7680 ($1E00).  To see more about setting the character map location look at: <a href="https://archive.org/details/COMPUTEs_Mapping_the_VIC_1984_COMPUTE_Publications/page/n149/mode/2up">Mapping the Vic, p.129-133</a>.</li>
</ul>
<h2>Video Demonstrating Fat Font</h2>
<p>The double-width fat font can be seen in the following video.</p>
<div class="youtube-wrapper">
<iframe width="560" height="315" src="https://www.youtube.com/embed/NeRNb4vB54U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
      </div>
    </article>
</div>

  <div id="cclicence">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Double-Width C64 Style Font on the Commodore VIC-20</span>
    by <a xmlns:cc="http://creativecommons.org/ns#" href="https://techtinkering.com/articles/double-width-c64-style-font-on-the-commodore-vic-20/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
   is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
   
  </div>


  <div class="discuss">
    <h2 style="margin-top:0;">Share This Post</h2>
    <div class="contact">
  <ul>
    <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Ftechtinkering.com%2Farticles%2Fdouble-width-c64-style-font-on-the-commodore-vic-20%2F&title=Double-Width%20C64%20Style%20Font%20on%20the%20Commodore%20VIC-20" target="_blank" title="Submit to Reddit">Reddit</a></li>
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftechtinkering.com%2Farticles%2Fdouble-width-c64-style-font-on-the-commodore-vic-20%2F&quote=Double-Width%20C64%20Style%20Font%20on%20the%20Commodore%20VIC-20" target="_blank" title="Share on Facebook">Facebook</a></li>
    <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Ftechtinkering.com%2Farticles%2Fdouble-width-c64-style-font-on-the-commodore-vic-20%2F&text=Double-Width%20C64%20Style%20Font%20on%20the%20Commodore%20VIC-20:%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Fdouble-width-c64-style-font-on-the-commodore-vic-20%2F&via=TechTinkering" target="_blank" title="Tweet">Twitter</a></li>
    <li><a href="mailto:?subject=Double-Width%20C64%20Style%20Font%20on%20the%20Commodore%20VIC-20&body=The%20C64%20used%20a%20fatter%20double-width%20font%20because%20the%20video%20quality%20of%20early%20VIC-IIs%20wasn%27t%20very%20good.%20%20Therefore%20they%20had%20to%20make%20the%20C64%27s%20font%20fatter%20than%20the%20VIC-20%27s.%20%20However%2C%20this%20fatter%20font%20look...:%0A%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Fdouble-width-c64-style-font-on-the-commodore-vic-20%2F" target="_blank" title="Send email">Email</a></li>
  </ul>
</div>

    <h2>Feedback/Discuss</h2>
    <div class="contact">
  <ul>
      <li><a href="https://twitter.com/TechTinkering/status/1325896875707424768" target="_blank" title="Discuss on Twitter">Twitter</a></li>

      <li><a href="https://news.ycombinator.com/item?id=25083154" target="_blank" title="Discuss on Hacker News">Hacker News</a></li>

    <li><a href="mailto:techtinkering@vlifesystems.com?subject=Comment:%20Double-Width%20C64%20Style%20Font%20on%20the%20Commodore%20VIC-20&body=Article%20URL:%20https%3A%2F%2Ftechtinkering.com%2Farticles%2Fdouble-width-c64-style-font-on-the-commodore-vic-20%2F%0A" title="Send us an email">Email</a></li>
  </ul>
</div>
  </div>

  <div id="email-subscribe">
  <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=TechTinkering', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
    <p>Sign up to get new articles straight to your inbox.</p>
    <p><input type="text" style="width:180px" name="email" placeholder="Email address"/>
    <input type="hidden" value="TechTinkering" name="uri"/>
    <input type="hidden" name="loc" value="en_US"/>
    <input class="subscribe-button" type="submit" value="Subscribe" /></p>
    <p>Delivered by <a href="https://feedburner.google.com" target="_blank">FeedBurner</a></p>
  </form>
</div>


    <div>
    <h2>Related Articles</h2>
    <div class="margin-buffer">
      <header>
  <h2><a href="/articles/subleq-on-the-commodore-vic-20/">SUBLEQ on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/oisc/">OISC</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/subleq/">SUBLEQ</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  I have created a SUBLEQ Virtual Machine for the Commodore VIC-20.  SUBLEQ is a computer architecture that has only one instruction: SUBLEQ.  The instruction stands for SUbtract and Branch if Less than ...
  &nbsp;
  <a class="readMore" href="/articles/subleq-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/sweet-16-the-6502-dream-machine-ported-to-the-vic-20/">Sweet 16 (The 6502 Dream Machine) Ported to the VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  Sweet 16 was created by Steve Wozniak to reduce code size and make it easier to handle 16-bit pointers and arithmetic for his Apple Integer BASIC.  He wrote it around 1977 and referred to it in an arti...
  &nbsp;
  <a class="readMore" href="/articles/sweet-16-the-6502-dream-machine-ported-to-the-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/position-independent-code-6502-on-the-commodore-vic-20/">Position Independent Code (6502) on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  If we are writing 6502 machine code and want to to create a routine or program that can be placed in any location then we have to create Position Independent Code (PIC) or make the code relocatable.  H...
  &nbsp;
  <a class="readMore" href="/articles/position-independent-code-6502-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/adding-basic-stubs-to-assembly-language-on-the-commodore-vic-20/">Adding Basic Stubs to Assembly Language on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  To make machine language programs more friendly it's nice to add a Basic stub which contains a line with a SYS statement to start the code.  This is easy to do on the VIC-20 and the process gives you a...
  &nbsp;
  <a class="readMore" href="/articles/adding-basic-stubs-to-assembly-language-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/hand-assembling-to-machine-code-on-the-commodore-vic-20/">Hand Assembling to Machine Code on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  I quite enjoy designing machine language routines on paper and then hand assembling them.  For many people this would have been their only option until they got a more advanced machine language monitor...
  &nbsp;
  <a class="readMore" href="/articles/hand-assembling-to-machine-code-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
</div>
    </div>

    </div>

    <footer>
  <nav>
    <div class="container">
      <div>
        <strong>Legal:</strong>
        <a href="/terms/">T & C</a>, <a href="/privacy/">Privacy Policy</a>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>